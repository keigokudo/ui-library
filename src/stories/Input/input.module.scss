@use "../../styles/variables" as t;
@use "../../styles/mixins/mixins" as mixins;

/* ==========================================================================
   Base Container
   ========================================================================== */
.container {
  display: flex;
  flex-direction: column;
  position: relative;
  gap: t.$space-xs;
  margin: t.$space-sm 0;
}

.fullWidth {
  width: 100%;
}

/* ==========================================================================
   Input Wrapper - Handles Visual Container
   ========================================================================== */
.inputWrapper {
  position: relative;
  display: flex;
  align-items: center;
}

/* ==========================================================================
   Base Input Styles
   ========================================================================== */
input {
  width: 100%;
  border: none;
  outline: none;
  background: transparent;
  font-family: inherit;
  font-weight: t.$font-weight-light;
  color: t.$color-gray-300;
  z-index: 1;
  transition: color 0.2s ease;

  &::placeholder {
    color: transparent; // Hidden by default when label is present
    transition: color 0.2s ease;
  }

  &:disabled {
    color: t.$color-text-disabled;
    cursor: not-allowed;
  }
}

/* ==========================================================================
   Base Label Styles
   ========================================================================== */
.label {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: transparent;
  color: t.$color-text-secondary;
  font-weight: t.$font-weight-normal;
  pointer-events: none;
  transition: all 0.2s cubic-bezier(0, 0, 0.2, 1);
  z-index: 2;
  white-space: nowrap;
  max-width: calc(100% - #{t.$space-sm});
  overflow: hidden;
  text-overflow: ellipsis;
}

/* ==========================================================================
   Size Variants - Using Design Token Values
   ========================================================================== */
.medium {
  input {
    font-size: t.$font-size-label;
    padding: t.$space-component-padding-md t.$space-component-padding-sm;
  }

  .label {
    font-size: t.$font-size-label;
    left: t.$space-component-padding-sm;
  }

  &.hasValue .label,
  &.focused .label {
    transform: translateY(calc(-#{t.$space-xl} - #{t.$space-xs})) scale(0.75);
    transform-origin: top left;
  }
}

/* ==========================================================================
   Outlined Variant
   ========================================================================== */
.outlined {
  .inputWrapper {
    border-radius: t.$radius-input;
  }

  .outline {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    margin: 0;
    padding: 0;
    border: t.$border-width-default solid t.$color-border;
    border-radius: t.$radius-input;
    pointer-events: none;
    transition: border-color 0.2s ease, border-width 0.2s ease;
  }

  // Floating label gets background for outlined variant
  &.hasValue .label,
  &.focused .label {
    color: t.$color-primary;
    background: t.$color-surface;
    padding-inline: t.$space-xs;
    margin-left: calc(
      #{t.$space-xs} * -1
    ); // Offset the padding to align with input text
  }
}
